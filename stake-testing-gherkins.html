<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DCP Stake Testing - Gherkin Scenarios</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
            font-size: 1.1em;
        }
        .content {
            padding: 30px;
        }
        .section {
            margin-bottom: 40px;
            border: 1px solid #e1e8ed;
            border-radius: 10px;
            overflow: hidden;
        }
        .section-header {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #e1e8ed;
        }
        .section-header h2 {
            margin: 0;
            color: #2c3e50;
            font-size: 1.5em;
        }
        .section-content {
            padding: 20px;
        }
        .gherkin-scenario {
            background: #f8f9fa;
            border: 1px solid #e1e8ed;
            border-radius: 8px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .scenario-header {
            background: #e3f2fd;
            padding: 15px;
            border-bottom: 1px solid #e1e8ed;
        }
        .scenario-header h4 {
            margin: 0;
            color: #1976d2;
            font-size: 1.1em;
        }
        .scenario-content {
            padding: 15px;
        }
        .gherkin-steps {
            font-family: 'Courier New', monospace;
            background: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            white-space: pre-line;
            line-height: 1.6;
            font-size: 14px;
        }
        .character-profile {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        .character-profile h3 {
            margin: 0 0 8px 0;
            font-size: 1.1em;
        }
        .character-profile p {
            margin: 3px 0;
            opacity: 0.9;
            font-size: 0.9em;
        }
        .stake-interface {
            background: #fff3e0;
            border: 1px solid #ffb74d;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        .stake-interface h3 {
            margin: 0 0 15px 0;
            color: #e65100;
        }
        .interface-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        .interface-item {
            background: white;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #ffb74d;
        }
        .interface-item h4 {
            margin: 0 0 10px 0;
            color: #e65100;
        }
        .interface-item ul {
            margin: 0;
            padding-left: 20px;
        }
        .interface-item li {
            margin-bottom: 3px;
        }
        .stake-image {
            text-align: center;
            margin: 20px 0;
        }
        .stake-image img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>DCP Stake Testing - Gherkin Scenarios</h1>
            <p>Comprehensive testing scenarios for DCP staking functionality and interface</p>
        </div>

        <div class="content">
            
            <!-- Stake Interface Reference -->
            <div class="stake-interface">
                <h3>ðŸŽ¯ Stake Interface Reference</h3>
                <div class="stake-image">
                    <img src="claiming-flow-images/stake.png" alt="DCP Stake Interface" />
                </div>
                <div class="interface-grid">
                    <div class="interface-item">
                        <h4>Stake Input Fields</h4>
                        <ul>
                            <li>Amount input field</li>
                            <li>Token selection dropdown</li>
                            <li>Stake duration options</li>
                            <li>APY/Reward display</li>
                        </ul>
                    </div>
                    <div class="interface-item">
                        <h4>Action Buttons</h4>
                        <ul>
                            <li>Stake button</li>
                            <li>Unstake button</li>
                            <li>Claim rewards button</li>
                            <li>Max amount button</li>
                        </ul>
                    </div>
                    <div class="interface-item">
                        <h4>Display Elements</h4>
                        <ul>
                            <li>Current balance</li>
                            <li>Staked amount</li>
                            <li>Available rewards</li>
                            <li>Transaction status</li>
                        </ul>
                    </div>
                    <div class="interface-item">
                        <h4>Validation & Errors</h4>
                        <ul>
                            <li>Insufficient balance</li>
                            <li>Minimum stake amount</li>
                            <li>Network errors</li>
                            <li>Transaction failures</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Character Profiles -->
            <div class="section">
                <div class="section-header">
                    <h2>ðŸ‘¥ Test Character Profiles</h2>
                </div>
                <div class="section-content">
                    <div class="character-profile">
                        <h3>Keith Fellini - Baker/Validator</h3>
                        <p><strong>Device:</strong> iPhone 15 Pro Max | <strong>Wallet:</strong> MetaMask Mobile + Sentinel Wallet</p>
                        <p><strong>Balance:</strong> 3080.69 internal, 194.9 external | <strong>Auth:</strong> Sentinel Wallet Login, 2FA mixed</p>
                        <p><strong>Use Case:</strong> Professional validator with high-value assets</p>
                    </div>

                    <div class="character-profile">
                        <h3>Kanley Stubrick - Moderator</h3>
                        <p><strong>Device:</strong> Samsung Galaxy S24 Ultra | <strong>Wallet:</strong> WalletConnect + Google Auth</p>
                        <p><strong>Balance:</strong> 55.88 internal, 684.61 external | <strong>Auth:</strong> Google Auth, 2FA enabled</p>
                        <p><strong>Use Case:</strong> Community moderator with reputation</p>
                    </div>

                    <div class="character-profile">
                        <h3>Antonio Verozqi - Standard User</h3>
                        <p><strong>Device:</strong> Google Pixel 8 Pro | <strong>Wallet:</strong> Trust Wallet + Google Auth</p>
                        <p><strong>Balance:</strong> 0.98 internal, 6.06 external | <strong>Auth:</strong> Google Auth (Secondary), 2FA enabled</p>
                        <p><strong>Use Case:</strong> Regular trader with small balances</p>
                    </div>

                    <div class="character-profile">
                        <h3>TwitterProd - Social User</h3>
                        <p><strong>Device:</strong> iPhone 14 | <strong>Wallet:</strong> Rainbow Wallet + Twitter OAuth</p>
                        <p><strong>Balance:</strong> 2.39 internal, 0 external | <strong>Auth:</strong> X (Twitter) Sign-in, phone-only</p>
                        <p><strong>Use Case:</strong> Social media connected user</p>
                    </div>
                </div>
            </div>

            <!-- Gherkin Scenarios -->
            <div class="section">
                <div class="section-header">
                    <h2>ðŸ§ª Gherkin Scenarios - Stake Testing</h2>
                </div>
                <div class="section-content">
                    
                    <!-- Initial Stake -->
                    <div class="gherkin-scenario">
                        <div class="scenario-header">
                            <h4>Scenario: Initial Token Staking - Keith Fellini</h4>
                        </div>
                        <div class="scenario-content">
                            <p><strong>Character:</strong> Keith Fellini (Baker)</p>
                            <p><strong>Device:</strong> iPhone 15 Pro Max, Safari, WiFi</p>
                            <div class="gherkin-steps">
Feature: Token Staking
Scenario: Baker stakes tokens for the first time
  Given I am Keith Fellini on an iPhone 15 Pro Max
  And I have 3080.69 internal tokens available
  And I am connected to WiFi
  When I navigate to the DCP staking interface
  Then I should see the stake input form
  And I should see my current balance: 3080.69
  
  When I enter "100" in the stake amount field
  Then I should see the APY rate displayed
  And I should see estimated rewards
  
  When I select "30 days" as the stake duration
  Then I should see updated reward calculations
  And the stake button should be enabled
  
  When I tap the "Stake" button
  Then I should be prompted to connect my wallet
  And Sentinel Wallet should be available
  
  When I connect my Sentinel Wallet
  Then I should see the transaction details
  And I should be able to approve the transaction
  
  When I approve the transaction
  Then I should see a loading indicator
  And the transaction should be processed
  
  When the transaction completes
  Then I should see a success message
  And my staked amount should be updated to 100
  And my available balance should be reduced to 2980.69
                            </div>
                        </div>
                    </div>

                    <!-- Stake with Max Amount -->
                    <div class="gherkin-scenario">
                        <div class="scenario-header">
                            <h4>Scenario: Stake Maximum Amount - Kanley Stubrick</h4>
                        </div>
                        <div class="scenario-content">
                            <p><strong>Character:</strong> Kanley Stubrick (Moderator)</p>
                            <p><strong>Device:</strong> Samsung Galaxy S24 Ultra, Chrome, WiFi</p>
                            <div class="gherkin-steps">
Feature: Maximum Staking
Scenario: Moderator stakes maximum available tokens
  Given I am Kanley Stubrick on a Samsung Galaxy S24 Ultra
  And I have 684.61 external tokens available
  And I am connected to WiFi
  When I navigate to the DCP staking interface
  Then I should see my current balance: 684.61
  
  When I tap the "Max" button
  Then the stake amount field should be filled with 684.61
  And I should see the maximum possible rewards
  
  When I select "90 days" as the stake duration
  Then I should see higher APY rates
  And I should see increased reward calculations
  
  When I tap the "Stake" button
  Then I should be prompted to connect WalletConnect
  And the connection should work seamlessly
  
  When I approve the transaction
  Then I should see the transaction processing
  And I should see progress indicators
  
  When the transaction completes
  Then I should see a success confirmation
  And my staked amount should be 684.61
  And my available balance should be 0
  And I should see my reputation remains: 40.4
                            </div>
                        </div>
                    </div>

                    <!-- Unstake Process -->
                    <div class="gherkin-scenario">
                        <div class="scenario-header">
                            <h4>Scenario: Unstake Tokens - Antonio Verozqi</h4>
                        </div>
                        <div class="scenario-content">
                            <p><strong>Character:</strong> Antonio Verozqi (Standard User)</p>
                            <p><strong>Device:</strong> Google Pixel 8 Pro, Chrome, 4G</p>
                            <div class="gherkin-steps">
Feature: Token Unstaking
Scenario: User unstakes tokens before lock period ends
  Given I am Antonio Verozqi on a Google Pixel 8 Pro
  And I have 5.00 tokens currently staked
  And I am connected to 4G network
  When I navigate to the DCP staking interface
  Then I should see my staked amount: 5.00
  And I should see the unstake button
  
  When I tap the "Unstake" button
  Then I should see a confirmation dialog
  And I should see early unstaking penalties
  
  When I confirm the unstake action
  Then I should be prompted to connect Trust Wallet
  And the connection should work
  
  When I approve the unstake transaction
  Then I should see a loading indicator
  And the transaction should be processed
  
  When the transaction completes
  Then I should see a success message
  And my staked amount should be reduced
  And my available balance should increase
  And I should see penalty fees deducted
                            </div>
                        </div>
                    </div>

                    <!-- Claim Rewards -->
                    <div class="gherkin-scenario">
                        <div class="scenario-header">
                            <h4>Scenario: Claim Staking Rewards - TwitterProd</h4>
                        </div>
                        <div class="scenario-content">
                            <p><strong>Character:</strong> TwitterProd (Social User)</p>
                            <p><strong>Device:</strong> iPhone 14, Safari, 3G</p>
                            <div class="gherkin-steps">
Feature: Reward Claiming
Scenario: Social user claims accumulated staking rewards
  Given I am TwitterProd on an iPhone 14
  And I have 2.39 tokens staked
  And I have accumulated 0.15 rewards
  And I am on a slow 3G connection
  When I navigate to the DCP staking interface
  Then I should see my staked amount: 2.39
  And I should see available rewards: 0.15
  
  When I tap the "Claim Rewards" button
  Then I should see a confirmation dialog
  And I should see the reward amount to claim
  
  When I confirm the claim action
  Then I should be prompted to connect Rainbow Wallet
  And the connection should work on mobile
  
  When I approve the claim transaction
  Then I should see a loading indicator
  And the transaction should process despite slow connection
  
  When the transaction completes
  Then I should see a success message
  And my rewards should be reset to 0
  And my available balance should increase by 0.15
  And I should see my Twitter handle: @standardtesting
                            </div>
                        </div>
                    </div>

                    <!-- Insufficient Balance Error -->
                    <div class="gherkin-scenario">
                        <div class="scenario-header">
                            <h4>Scenario: Insufficient Balance Error</h4>
                        </div>
                        <div class="scenario-content">
                            <p><strong>Character:</strong> Antonio Verozqi</p>
                            <p><strong>Device:</strong> Google Pixel 8 Pro, Chrome, WiFi</p>
                            <div class="gherkin-steps">
Feature: Error Handling
Scenario: User attempts to stake more than available balance
  Given I am Antonio Verozqi on a Google Pixel 8 Pro
  And I have 0.98 internal tokens available
  And I am connected to WiFi
  When I navigate to the DCP staking interface
  Then I should see my current balance: 0.98
  
  When I enter "2.00" in the stake amount field
  Then I should see an error message
  And the error should say "Insufficient balance"
  And the stake button should be disabled
  
  When I reduce the amount to "0.50"
  Then the error message should disappear
  And the stake button should be enabled
  
  When I tap the "Max" button
  Then the amount should be set to 0.98
  And no error should be displayed
  And the stake button should be enabled
                            </div>
                        </div>
                    </div>

                    <!-- Minimum Stake Validation -->
                    <div class="gherkin-scenario">
                        <div class="scenario-header">
                            <h4>Scenario: Minimum Stake Amount Validation</h4>
                        </div>
                        <div class="scenario-content">
                            <p><strong>Character:</strong> Various users</p>
                            <p><strong>Devices:</strong> Multiple devices</p>
                            <div class="gherkin-steps">
Feature: Minimum Stake Validation
Scenario: User attempts to stake below minimum amount
  Given I am testing minimum stake validation
  And the minimum stake amount is 1.00 tokens
  When I enter "0.50" in the stake amount field
  Then I should see an error message
  And the error should say "Minimum stake amount is 1.00"
  And the stake button should be disabled
  
  When I enter "1.00" in the stake amount field
  Then the error message should disappear
  And the stake button should be enabled
  
  When I enter "0.99" in the stake amount field
  Then I should see the minimum amount error
  And the stake button should remain disabled
  
  When I clear the field and enter "1.01"
  Then no error should be displayed
  And the stake button should be enabled
                            </div>
                        </div>
                    </div>

                    <!-- Network Error Handling -->
                    <div class="gherkin-scenario">
                        <div class="scenario-header">
                            <h4>Scenario: Network Error During Staking</h4>
                        </div>
                        <div class="scenario-content">
                            <p><strong>Character:</strong> Keith Fellini</p>
                            <p><strong>Device:</strong> iPhone 15 Pro Max, Safari, Poor Network</p>
                            <div class="gherkin-steps">
Feature: Network Error Handling
Scenario: Network failure during stake transaction
  Given I am Keith Fellini on an iPhone 15 Pro Max
  And I have a poor network connection
  And I am attempting to stake 100 tokens
  When the network connection drops during transaction
  Then I should see a clear error message
  And the error should be mobile-friendly
  
  When I tap "Retry"
  Then the transaction should be retried
  And I should see a loading indicator
  
  When the network is restored
  Then the transaction should complete successfully
  And I should see a success message
  
  When I experience a wallet connection failure
  Then I should see helpful troubleshooting steps
  And alternative wallet options should be presented
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Testing Checklist -->
            <div class="section">
                <div class="section-header">
                    <h2>âœ… Stake Testing Checklist</h2>
                </div>
                <div class="section-content">
                    <h3>Stake Functionality</h3>
                    <ul>
                        <li>Initial token staking</li>
                        <li>Maximum amount staking</li>
                        <li>Partial amount staking</li>
                        <li>Stake duration selection</li>
                        <li>APY calculation display</li>
                    </ul>
                    
                    <h3>Unstake Functionality</h3>
                    <ul>
                        <li>Early unstaking with penalties</li>
                        <li>Regular unstaking after lock period</li>
                        <li>Partial unstaking</li>
                        <li>Full unstaking</li>
                        <li>Unstake confirmation dialogs</li>
                    </ul>
                    
                    <h3>Reward System</h3>
                    <ul>
                        <li>Reward accumulation display</li>
                        <li>Reward claiming process</li>
                        <li>Reward calculation accuracy</li>
                        <li>Reward distribution</li>
                        <li>Reward history tracking</li>
                    </ul>
                    
                    <h3>Error Handling</h3>
                    <ul>
                        <li>Insufficient balance errors</li>
                        <li>Minimum stake validation</li>
                        <li>Network error handling</li>
                        <li>Transaction failure recovery</li>
                        <li>Wallet connection errors</li>
                    </ul>
                </div>
            </div>

        </div>
    </div>
</body>
</html> 